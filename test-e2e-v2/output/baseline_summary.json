{
  "source": "auto-discovery",
  "domain": "facebook-ads",
  "skill_md": "",
  "references": [
    {
      "path": "./test-e2e/baseline\\references\\docs-marketing-api.md",
      "content": "# Marketing API - Documentation - Meta for Developers\n\n> Source: https://developers.facebook.com/docs/marketing-api/\n\n---\n\nMarketing API - Documentation - Meta for Developers\n\nMarketing API\n\nOverview\n\nGet Started\n\nAd Creative\n\nBidding\n\nAd Rules Engine\n\nAudiences\n\nInsights API\n\nBrand Safety and Suitability\n\nBest Practices\n\nTroubleshooting\n\nAPI Reference\n\nChangelog\n\nMarketing API\n\nThe Marketing API is a collection of \nGraph API\n endpoints and other features that can be used to help you advertise across Meta technologies. Before advertising on Facebook, Instagram, Messenger, and WhatsApp, we recommend you learn about Meta&#039;s \nad campaign structure\n to understand the objects you&#039;re working with and how they relate to each other.\n\nThe latest version is\n:\n\nv24.0\n\nFor information on the latest Marketing API version, see the \nChangelog\n. For non-versioned changes, see the \nOut-of-Cycle Changes\n.\n\nGet Started\n\nBasic Ad Creation\n\n      Get detailed guidance on how to set up campaigns, ad sets, and ad creatives, including code samples that illustrate the implementation process.\n        \n\n&gt; Learn More\n\nManage Campaigns\n\n      Learn key operations you can perform using the Marketing API, including how to modify, pause and delete campaigns. \n        \n\n&gt; Learn More\n\nAd Optimization Basics\n\n      Use Marketing API endpoints that serve as essential tools for developers to manage audiences and analyze ad campaign insights.\n        \n\n&gt; Learn More\n\nRelated APIs\n\nConversions API\n\n      Connect the marketing data on your servers to the Meta systems that optimize ad targeting, decrease cost per action, and measure results.\n        \n\n&gt; Learn More\n\nCatalog API\n\n      Create a catalog of items you want to promote and use it to run ads, sell from a shop on Facebook or Instagram and more. \n        \n\n&gt; Learn More\n\nBusiness Management API\n\n      Create and maintain your business&#039;s organic and paid presence on Facebook, Instagram, Messenger, and WhatsApp.\n        \n\n&gt; Learn More\n\nMeta Business Extension\n\n      Helps businesses connect their Facebook or Instagram profiles to third-party platforms, and  easily set up the Meta Pixel, Catalog, and shops.\n        \n\n&gt; Learn More\n\nCommerce Platform\n\n      Enables businesses to integrate their infrastructure with the tools available to sell products across Meta technologies, including shops and Marketplace. \n        \n\n&gt; Learn More\n\nTools &amp; Resources\n\nAds Manager\n\nBusiness Manager\n\nCommerce Manager\n\nApp Dashboard\n\nMeta Business SDK\n\nMarketing API Status\n\nMeta Blueprint\n \n\nMeta Developer Community Forums\n\n -->\n\n                                                                                                                                                                                                                                                                                                                                                                                                            \n\n                                                                                                                                                                                                                                                                                                                                                                                                   \n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\docs.md",
      "content": "# Meta Developer Documentation | Meta APIs, SDKs &amp; Guides\n\n> Source: https://developers.facebook.com/docs/\n\n---\n\nMeta Developer Documentation | Meta APIs, SDKs &amp; Guides\n\nMeta Developer Documentation\n\nLearn the basics of how to send and receive data from the Meta social graph\n and how to implement the APIs, Platforms, Products, and SDKs to fit your application needs.\n\nMeta App Development\n\nRegister as a developer, configure your app&#039;s settings in the App Dashboard, and build, test, and release your app.\n\nDocs\n\nGraph API\n\nThe primary way for apps to read and write to the Meta social graph.\n\nDocs\n\nResponsible Platform Initiatives\n\nVerify that your app uses our products and APIs in an approved manner.\n\nDocs\n\nApp Integrations\n\nApp Links\n\nGraph API\n\nMeta App Events\n\nMeta Pixel\n\nWebhooks\n\nAuthentication\n\nFacebook Login\n\nLimited Facebook Login\n\nLogin Connect with Messenger\n\nDeveloper Guides\n\nMeta App Development\n\nDeveloper Policies\n\nMeta Platform Terms\n\nPrivacy &amp; Consent\n\nSDKs\n\nFacebook SDK for Android\n\nFacebook SDK for iOS\n\nFacebook SDK for JavaScript\n\nFacebook SDK for PHP\n\nUnity SDK\n\nMeta Business SDK\n\nGaming\n\nFacebook Games\n\nGame Payments\n\nSocial Integrations\n\nFacebook Pages API\n\nInstagram Platform\n\nThreads API\n\nSharing\n\nSocial Plugins\n\nVideos\n\nLive Video API\n\nStories\n\nVideos\n\nBusiness Messaging\n\nWhatsApp Business Platform\n\nMessenger Platform\n\nWhatsApp Flows\n\nMarketing and Commerce\n\nFacebook Creator Discovery API\n\nFacebook App Ads\n\nAutomotive Ads\n\nCatalog\n\nCommerce Platform\n\nConversions API\n\nConversions API Gateway\n\nSignals Gateway\n\nCross-Channel Conversion Optimization \n\nMeta Audience Network\n\nMeta Business SDK\n\nMeta Pay Integration\n\nMarketing API\n\nWork and Education\n\nMeta Admin Center\n\nWorkplace\n\nArtificial Intelligence\n\nWit.ai\n\nRights Manager\n\nData Portability\n\nData Portability\n\n                                                                                                                                                                                                                                                                                                                                                                                                            \n\n                                                                                                                                                                                                                                                                                                                                                                                                   \n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\docs-marketing-api-reference.md",
      "content": "# API Reference - Marketing API - Documentation - Meta for Developers\n\n> Source: https://developers.facebook.com/docs/marketing-api/reference/\n\n---\n\nAPI Reference - Marketing API - Documentation - Meta for Developers\n\nMarketing API\n\nOverview\n\nGet Started\n\nAd Creative\n\nBidding\n\nAd Rules Engine\n\nAudiences\n\nInsights API\n\nBrand Safety and Suitability\n\nBest Practices\n\nTroubleshooting\n\nAPI Reference\n\nChangelog\n\nMarketing API Version\n\nv24.0\n\nMarketing API Reference\n\nMarketing API Root Nodes\n\nThis is a full list of root nodes for the Facebook Marketing API with links to reference docs for each. For background on the API&#039;s architecture how to call root nodes and their edges, see \nUsing the Graph API\n.\n\nTo access all reference information you will need to be logged in to Facebook.\n\nNode\n\nDescription\n\n/&#123;AD_ACCOUNT_USER_ID&#125;\n\nSomeone on Facebook who creates ads. Each ad user can have a role on several ad accounts.\n\n/act_&#123;AD_ACCOUNT_ID&#125;\n\nRepresents the business entity managing ads.\n\n/&#123;AD_ID&#125;\n\nContains information for an ad, such as creative elements and measurement information.\n\n/&#123;AD_CREATIVE_ID&#125;\n\nFormat for your image, carousel, collection, or video ad.\n\n/&#123;AD_SET_ID&#125;\n\nContains all ads that share the same budget, schedule, bid, and targeting.\n\n/&#123;AD_CAMPAIGN_ID&#125;\n\nDefines your ad campaigns&#039; objective. Contains one or more ad set.\n\nUser\n\nEdges\n\nEdge\n\nDescription\n\n/adaccounts\n\nAll ad accounts associated with this person\n\n/accounts\n\nAll pages and places that someone is an admin of\n\n/promotable_events\n\nAll promotable events you created or promotable page events that belong to pages you are an admin for\n\nAd Account\n\nAll collections of ad objects in Marketing APIs belong to an \nad account\n.\n\nEdges\n\nThe most popular edges of the Ad Account node. Visit the \nAd Account Edges reference\n for a complete list of all edges.\n\nEdge\n\nDescription\n\n/adcreatives\n\nDefines your ad&#039;s appearance and content\n\n/adimages\n\nLibrary of images to use in ad creatives. Can be uploaded and managed independently\n\n/ads\n\nData for an ad, such as creative elements and measurement information\n\n/adsets\n\nContain all ads that share the same budget, schedule, bid, and targeting\n\n/advideos\n\nLibrary of videos for use in ad creatives. Can be uploaded and managed independently\n\n/campaigns\n\nDefine your campaigns&#039; objective and contain one or more ad sets\n\n/customaudiences\n\nThe custom audiences owned by/shared with this ad account\n\n/insights\n\nInterface for insights. De-dupes results across child objects, provides sorting, and async reports.\n\n/users\n\nList of people assocated with an ad account\n\nAd\n\nAn individual ad associated with an ad set.\n\nEdges\n\nThe most popular edges of the Ad node. Visit the \nAd Edges reference\n for a complete list of all edges.\n\nEdge\n\nDescription\n\n/adcreatives\n\nDefines your ad&#039;s appearance and content\n\n/insights\n\nInsights on your advertising performance.\n\n/leads\n\nAny leads associated with with a Lead Ad.\n\n/previews\n\nGenerate ad previews from an existing ad\n\nAd Set\n\nAn ad set is a group of ads that share the same daily or lifetime budget, schedule, bid type, bid info, and targeting data.\n\nEdges\n\nThe most popular edges of the Ad Set node. Visit the \nAd Set Edges reference\n for a complete list of all edges.\n\nEdge\n\nDescription\n\n/activities\n\nLog of actions taken on the ad set\n\n/adcreatives\n\nDefines your ad&#039;s content and appearance\n\n/ads\n\nData necessary for an ad, such as creative elements and measurement information\n\n/insights\n\nInsights on your advertising performance.\n\nAd Campaign\n\nA campaign is the highest level organizational structure within an ad account and should represent a single objective for an advertiser.\n\nEdges\n\nThe most popular edges of the Ad Campaign node. Visit the \nAd Campaign Edges reference\n for a complete list of all edges.\n\nEdge\n\nDescription\n\n/ads\n\nData necessary for an ad, such as creative elements and measurement information\n\n/adsets\n\nContain all ads that share the same budget, schedule, bid, and targeting.\n\n/insights\n\nInsights on your advertising performance.\n\nAd Creative\n\nThe format which provides layout and contains content for the ad.\n\nEdges\n\nThe most popular edges of the Ad Creative node. Visit the \nAd Creative Edges reference\n for a complete list of all edges.\n\nEdge\n\nDescription\n\n/previews\n\nGenerate ad previews from the existing ad creative object\n\n -->\n\n                                                                                                                                                                                                                                                                                                                                                                                                            \n\n                                                                                                                                                                                                                                                                                                                                                                                                   \n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\v2-products-marketing-api.md",
      "content": "# Meta Marketing API | Meta for Developers\n\n> Source: https://developers.facebook.com/v2/products/marketing-api/\n\n---\n\nMeta Marketing API | Meta for Developers\n\nHome\n\nProducts\n\nMarketing API\n\nMeta Marketing API\n\nCreate, manage and optimize ad campaigns across Meta’s family of apps including Facebook and Instagram.\n\nLearn More\n\nScale your ads business efficiently\n\nStreamline advertising processes, improve targeting capabilities, and maximize the effectiveness of ad campaigns on Meta platforms.\n\nThe API provides a way to interact with Meta’s advertising platform programmatically, allowing for more efficient and customized ad management processes. Developers can automate various aspects of the APIs to drive more effective advertising strategies, optimize performance, and effectively utilize budgets.\n\nEnhance Your Advertising Efforts\n\nThe Marketing API can programmatically access Meta’s advertising platform and optimize your business operations and much more.\n\nManage Ads\n\nDrive workflow efficiency and build functionality that goes beyond manual ads management. Manage ads programmatically, including creating, updating, and deleting ad campaigns, ad sets, and ads. It provides the ability to retrieve ad performance data, optimize ad delivery, and automate ad management tasks.\n\nTrack Conversion Events\n\nOptimize and measure your ads using the Conversions API: a more secure way of sharing marketing data than traditional browser-based methods. Learn what the \nConversions API\n can do for your business.\n\nAccess Insights\n\nUse \nAds Insights API\n to access valuable insights and analytics about your ad campaigns including metrics on engagement, conversions, and more. By analyzing these insights, businesses can make data-driven decisions to optimize advertising strategies.\n\nTrack Performance &amp; Optimize in Real Time\n\nManage and optimize ads in real time using \nrules-based ads management\n. Set up your own custom rules and notifications to start and stop ads, adjust bids, and even reallocate spend at different thresholds. With new scheduled and trigger-based rules, Facebook&#039;s automated rules engine makes automating optimization and ads management easier than ever.\n\nIntegrate with Third-Party Tools\n\nIntegrating the API with third-parties enhances the capabilities of the API and provides your businesses with more comprehensive insights into your advertising efforts.\n\nAutomate Catalog Updates\n\nAutomate catalog updates, ensuring that product information, pricing, availability, and other details are always up-to-date across campaigns.\n\nLatest News\n\nExplore what we&#039;re working on\n\nJANUARY 23, 2024\n\nExpanding the availability of Advantage detailed targeting\n\nAs part of our continued effort to help advertisers drive performance, we are expanding the availability of our Advantage detailed targeting product to all campaign objectives and optimizations.Advantage detailed targeting is part of our Advantage product suite that leverages advanced automation and machine learning technology to help improve...\n\nBusiness Tools, Marketing API\n\nOCTOBER 27, 2023\n\nAllowing Creation and Promotion of Ads with Product Tags via Marketing API\n\nUpdated June 25, 2024Instagram allows advertisers to seamlessly create and promote posts with Product Tags via the Instagram Marketing API for feed photos, carousel, and existing feed videos....\n\nBusiness Tools, Platforms, Publishing, 2023, Instagram, Marketing API, Instagram, Instagram, Instagram\n\nOCTOBER 6, 2023\n\nIntroducing Meta Business SDK v18.0 &amp; Related Updates\n\n Time flies. On September 15, 2023, we’re releasing the Meta Business SDK v18.0 to support the Graph API v18.0 and Marketing API v18.0. It represents an update which brings numerous long standing issues and expands support to additional features, nodes, and types. While you can find a comprehensive list of changes in our Changelog, here are notable...\n\nBusiness Tools, Platforms, 2023, Facebook Business SDK, Graph API, Marketing API, Facebook\n\nJUNE 27, 2023\n\nAllowing Users to Use Organic Video Directly as Ad Creatives (via Marketing API)\n\nBefore today (June 27, 2023), users were required to re-upload existing Instagram video (Reels and Feed Video) to Facebook’s library before being able to create an ad creative with that video via the Marketing API. This process created unwanted friction for our partners and their customers. After consistently hearing about this pain point from our...\n\n2023, Instagram, Marketing API, Instagram, Instagram, Instagram\n\nMore on the blog\n\nWant to learn about more developer tools to scale your business?\n\nLearn More\n\nGet our newsletter\n\nSign up for monthly updates from Meta for Developers.\n\nSign up\n\nJoin our group\n\nLike us on Facebook and join a community of fellow developers.\n\nVisit group\n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\docs-marketing-api-conversions-api.md",
      "content": "# Conversions API - Documentation - Meta for Developers\n\n> Source: https://developers.facebook.com/docs/marketing-api/conversions-api/\n\n---\n\nConversions API - Documentation - Meta for Developers\n\nConversions API\n\nGet Started\n\nUsing the API\n\nVerifying Setup\n\nParameters\n\nParameter Builder Library\n\nConversions API for App Events\n\nConversions API for Offline Events\n\nConversions API for Business Messaging\n\nConversion Leads Integration\n\nDataset Quality API\n\nHandling Duplicate Events\n\nGuides\n\nPayload Helper\n\nBest Practices\n\nTroubleshooting\n\nConversions API\n\nThe Conversions API is designed to create a connection between an advertiser’s marketing data (such as website events, app events, business messaging events and offline conversions) from an advertiser’s server, website platform, mobile app, or CRM to Meta systems that optimize ad targeting, decrease cost per result and measure outcomes.\n\nRather than maintaining separate connection points for each data source, advertisers are able to leverage the Conversions API to send multiple event types and simplify their technology stack. In the case of direct integrations, this entails establishing a connection between an advertiser’s server and Meta’s Conversions API endpoint.\n\nServer events are linked to a dataset ID and are processed like events sent using the Meta Pixel, Facebook SDK for iOS or Android, mobile measurement partner SDK, offline event set, or .csv upload. This means that server events may be used in measurement, reporting, or optimization in a similar way as other connection channels. Offline events may be used for attributed offline events measurement, offline custom audience creation or measurement.\n\nFor optimal ad performance and measurement, we recommend that advertisers follow the \nConversions API best practices\n.\n\nRecommended Steps\n\nGet Started\n\n: Choose the integration method that works best for you, see prerequisites for using the API, and understand where to begin.\n\nImplement the API and start sending requests\n\n: Start making \nPOST\n requests and learn more about dropped events, batch requests, and event transaction time.\n\nVerify your setup\n\n: Confirm that we have received your events and that events are deduplicated and matched correctly.\n\nDocumentation\n\nAPI Parameters\n\nRequired and optional parameters you can use to improve ads attribution and delivery optimization.\n\nPayload Helper\n\nSee how your payload should be structured when it is sent to Facebook from your server.\n\nTroubleshooting\n\nLearn how to handle error codes returned by the Conversions API.\n\nResources\n\nMeta Pixel Events\n\nLearn more about the Meta Pixel&#039;s \nStandard Events\n and \nCustom Events\n.\n\nBusiness Help Center\n\nFrom our Help Center, see \nAbout Conversions API\n and \nTest Your Server Events\n.\n\nPlaybook and Webinar\n\nView the \nDirect Integration Playbook for Developers (PDF)\n and \nDirect Integration Webinar for Developers\n.\n\nData Processing Options\n\nLearn more about the Limited Data Use feature and how to implement it for Conversions API.\n\n -->\n\n                                                                                                                                                                                                                                                                                                                                                                                                            \n\n                                                                                                                                                                                                                                                                                                                                                                                                   \n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\docs-marketing-api-conversions-api-guides-end-to-end-implementation.md",
      "content": "# End-to-end Implementation - Conversions API - Documentation - Meta for Developers\n\n> Source: https://developers.facebook.com/docs/marketing-api/conversions-api/guides/end-to-end-implementation/?translation\n\n---\n\nEnd-to-end Implementation - Conversions API - Documentation - Meta for Developers\n\nConversions API\n\nGet Started\n\nUsing the API\n\nVerifying Setup\n\nParameters\n\nParameter Builder Library\n\nConversions API for App Events\n\nConversions API for Offline Events\n\nConversions API for Business Messaging\n\nConversion Leads Integration\n\nDataset Quality API\n\nHandling Duplicate Events\n\nGuides\n\nPayload Helper\n\nBest Practices\n\nTroubleshooting\n\nConversions API End-to-End Implementation\n\nThe Conversions API supports advertisers’ efforts to provide consumers with appropriate data transparency and control while also helping them to continue providing personal experiences. With the API, you can share data directly from your server, rather than through a browser.\n\nBenefits of Integration\n\nDeeper-Funnel Visibility\n: The Conversions API allows you to share a wider array of data when compared to the Meta Pixel. With the API, you can make decisions taking into account more information, such as CRM data, lower funnel events (including qualified leads), and multi-site conversion paths across a website and a physical location.\n\nData Control\n:  When used via a Server-Only implementation (for example, without the Meta Pixel), the Conversions API gives you added control over what data you share. You can choose to append insights to your events, providing data such as product margins or historical information, like customer value scores.\n\nSignal Reliability and Resiliency\n: Data sharing through the Conversions API may be more reliable than browser-based methods alone, like the Meta Pixel. The API is designed to be less susceptible to issues like a browser crash or connectivity problems. New industry data transmission restrictions may limit the efficacy of cookies and Pixel tracking, so the Conversions API helps you have control on sharing signals that may no longer be captured by the Pixel.\n\nAdditional Resources\n: View the \nConversions API Direct Integration Playbook for Developers (PDF) \n and \nDirect Integration Webinar for Developers\n\nOverview\n\nYou can think about your Conversions API integration in two main stages:\n\nPreparation\n\n — Select which \ntype of integration\n makes sense for you, \ndefine which events to send\n, and \nreview available optimization options\n.\n\nExecution\n\n — Learn how to \nimplement the API\n. For this stage, you can also use a \npartner integration\n.\n\nThe following is a snapshot of the complete integration process:\n\nRequirements\n\nFull Integration\n\nOptimization\n\nSelect events to share with Meta with user consent (if any).\n\nSet up your business’ assets: Meta Pixel, Meta Application, Business Manager, Server Connection, System User.\n\nStep 1: One event\n - Sending any event, manually or automated using the system user&#039;s token. Completing this step means you have correctly set up authentication.\n\nStep 2: Fully Integrated\n - You need to be sending some automated events to be considered integrated. Completing this milestone means you are able to optimize for Conversions API even in the event that you stop using the Pixel or the Pixel is blocked.\n\nOnce you are fully integrated, send enough automated funnel events to be considered fully onboarded. Then, optimize your match rate based on guidance from Event Match Quality.\n\nMake sure:\n\nThe events can be sent via either channel (browser or server) and it is not being double-counted. \n\nThe events are being sent as close to real-time as possible. \n\nProvide customer information parameters to be used for identity matching.\n\nExisting Pixel Users\n\nIf you have an existing Meta Pixel integration, the Conversion API integration should be built as an extension of the Pixel integration, instead of as an entirely different connection.\n\nGeneral Consent\n\nIf you have logic for controlling consent with respect to sharing Pixel data, use the same logic with respect to sharing data via Conversions API.\n\nAlternatives\n\nIf you want to optimize your ads for app events, please use the \nApp Events API\n.\n\nPreparation\n\nPick Your Integration Type\n\nTo start, select the integration option you would like to implement:\n\nSetup\n\nApproach Description\n\nRedundant Setup (Recommended)\n\nSend all events via both Pixel and Conversions API. This is the recommended setup for those who would like to keep the Pixel on their website, and are able to fully adopt the Conversions API.\n\nTo succeed, you must be able to generate a persistent \nevent_id\n for both Pixel and Conversions API events. This means sending the same \nevent_name\n and \nevent_id\n on both the Pixel and the Conversions API event, in order to \ndeduplicate identical events\n.\n\nThis setup provides performance on par or better than using only the browser Pixel. The server can capture events that may not be tracked by the browser, such as purchases that occur on a separate website, lead conversions, or phone calls.\n\nSplit Setup\n\nSend different types of events via Pixel and Conversions API. For example, you could send \nPageView\n and \nViewContent\n via Pixel, and  \nLead\n or \nPurchase\n via Conversions API.\n\nWhile this option is not as optimal as a redundant setup, you may consider it if you do not want to use a fully redundant setup. Take into consideration that you may need to complete additional work as browser changes are implemented.\n\nServer-Only Implementation\n\nOnly send events through the Conversions API, instead of through the browser. We recommend implementing either a \nredundant setup\n or a \nsplit setup\n before switching to this approach.\n\nDefine Events to Send\n\nOnce you have chosen your integration approach, you can define which events you want to send. Signals are most useful if they are matched to Meta user IDs, so it is important to think through what parameters you are sending us with an event and how often you would like to send them.\n\nEvent Options\n\nSend events that are most relevant to your business. See a full list of supported \nstandard\n and \ncustom\n Meta events.\n\nEvent Parameters\n\nYou can send multiple parameters inside each event. See \nparameters used by Conversions API\n to learn more about those fields.\n\nYou can add multiple types of IDs to your events, including \nevent_id\n, \nexternal_id\n and \norder_id\n. It’s important to know the difference between these parameters:\n\nID\n\nDescription\n\nHow It Is Used\n\nExternal ID\n\nYour unique ID for a specific customer.\n\nLearn more about \nExternal ID\n.\n\nEvent ID\n\nA unique ID for a given event.\n\nUsed on event deduplication. This field is very important if you are sending events via both browser Pixel and conversions API.\n\nOrder ID\n\nA unique ID for a given order. This parameter only works for purchase events and expects an \norder_id\n field in \ncustom_data\n.\n\nThis implementation is limited to select Meta partners. Contact your Meta representative for access.\n\nUsed on purchase event deduplication, if you send events via both browser Pixel and conversions API.\n\nOnce you sent us your first order, we discard the second one if:\n\nYou send a second event with the same \norder_id\n within a specific time window, and\nWe resolve that the same user completed both orders.\n\nYou can deduplicate purchase events within two windows: 48 hours (recommended) or 28 days. This is the window between the first and second instances of the same event.\n\nData Freshness\n\nWe recommend that you send events in real time or in \nbatches\n based on a specific timeline via the Conversions API. Sending your events in real time or within 1 hour helps ensure that they can be used for attribution and optimized for ad delivery.\n\nSending your events more than 2 hours after they occurred can cause a significant decrease in performance for ads optimized for those events. Events sent with a delay of 24 hours or more may experience significant issues with attribution and optimized ad delivery.\n\nIf you’re sending events with long conversion windows, send the event as close to real time as possible from the point at which the full conversion is completed.\n\nMove on to the next step once you have:\n\nA list of events to send.\n\nThe specific fields you want to send with each event.\n\nDefined how frequently you will send events.\n\nAvailable Optimization Types\n\nThe Conversions API offers the following optimization types:\n\nOptimization Option\n\nDescription\n\nConversions Optimization\n\nOptimize ad delivery to show ads to people most likely to make a conversion.\n\nValue Optimization (also known as Return on Ads Spend Optimization)\n\nOptimize ad delivery to show ads to people most likely to make a conversion of a specified value, such as purchases over $50.\n\nDynamic Product Ads\n\nOptimize ad delivery to show ads for specific products to people most likely to purchase those specific products.\n\nExecution\n\nThere are two ways to implement your integration:\n\nDirect Integration\n — You, as an advertiser, directly implement conversions API.\n\nIntegration as a Platform\n — You, as a marketing partner, offer conversions API as a service to your clients.\n\nAdvertisers using conversions API through one of our marketing partners should follow our partner’s implementation guidelines.\n\nDirect Integration\n\nStep 1: Set Up Requirements\n\nPrior to using the Conversions API, set up the following assets:\n\nAsset\n\nDescription\n\nMeta Pixel\n\nWhen you send events through the Conversions API, they’re processed and stored in the same way as the events you send through your Pixel. When you implement the Conversions API, you select which Pixel you want to send your events to.\n\nSending your Conversions API events to a Pixel lets you use your Conversions API events in the same way you use your browser-based Pixel events for measurement, attribution, and ad delivery optimization.  We recommend sending events from the browser and your server to the same Meta Pixel ID.\n\nBusiness Manager\n\nYou need a Business Manager to use the API. Business Manager helps advertisers integrate Meta marketing efforts across their business and with external partners. If you don&#039;t have a Business Manager, see the Help Center article on how to \nCreate a Business Manager\n.\n\nAccess Token\n\nTo use the Conversions API, you need an \naccess token\n. There are two ways of getting your access token:\n\nVia Events Manager\n (Recommended)\n\nUsing Your Own App\n\nMove on to \nImplement the API\n once you have the assets ready. Remember to save IDs for your assets, since you use those on your API calls.\n\nStep 2: Implement the API\n\nOnce you are done with the requirements, start the implementation process. While building on the Conversions API, always check the \ndeveloper documentation\n.\n\nTest Calls (Optional)\n\nIf this is your first time using the API, start with a test call. To do that, you need a payload and a method for making API calls. After the call is completed, check Events Manager to verify the call worked as expected.\n\nPayload\n\nAPI Call Method\n\nUse the \nPayload Helper\n to generate a sample payload to be sent with your call. Follow the instructions listed on the tool. Your payload should look something like this:\n\n&#123;\n  &quot;data&quot;: [\n   &#123;\n    &quot;event_name&quot;: &quot;Purchase&quot;,\n    &quot;event_time&quot;: 1601673450,\n    &quot;user_data&quot;: &#123;\n      &quot;em&quot;: &quot;7b17fb0bd173f625b58636fb796407c22b3d16fc78302d79f0fd30c2fc2fc068&quot;,\n      &quot;ph&quot;: null\n     &#125;,\n    &quot;custom_data&quot;: &#123;\n      &quot;currency&quot;: &quot;USD&quot;,\n      &quot;value&quot;: &quot;142.52&quot;\n    &#125;\n   &#125;\n  ]\n&#125;\n\nIf you want to test your payload from the Payload Helper, add your Pixel ID under \nTest this Payload\n and click on \nSend to Test Events\n. You should be able to see the event on \nEvents Manager\n &gt; \nYour Pixel\n &gt; \nTest Events\n. Learn more about the \nTest Events Tool\n.\n\nOnce you are satisfied with your payload, decide how you want to make your call. You can use our Graph API Explorer (see \nGuide\n) or your own servers. If you are using your servers, you can use CURL or the Meta Business SDK—We highly recommend \nusing the Meta Business SDK\n.\n\nIndependently on your call method, you should call the \n/&#123;pixel_id&#125;/events\n endpoint and attach the JSON data generated by the Payload Helper. Once you make the call, you should get a response like this:\n\n&#123;\n  &quot;events_received&quot;: 1,\n  &quot;messages&quot;: [],\n  &quot;fbtrace_id&quot;: &lt;FB-TRACE-ID&gt;\n&#125;\n\nAfter you complete your first call, verify your events on \nEvents Manager\n &gt; \nYour Pixel\n &gt; \nOverview\n.\n\nMove on to \nSend and Verify Events\n once you have checked your test events in Events Manager.\n\nSend and Verify Events\n\nTo start sending events, make a \nPOST\n request to the API’s \n/events\n edge. Attach a payload to your call —if you need help generating your payload, visit the \nPayload Helper\n. See the following resources for more information and code samples:\n\nUsing the API &gt; Send requests\n\nDropped Events\n\nUpload Time versus Event Transaction Time\n\nBatch Requests\n\nHashing\n\nAfter you start sending events, go to Events Manager and confirm that we have received the events you sent. Learn how to \nVerify Your Events\n.\n\nIf your implementation is complementary to a browser Pixel, move on to \ndeduplication settings\n. Otherwise, you are all set! Check \nSupport\n if you still have questions.\n\nStep 3: Add Parameters for Deduplication\n\nIf you’re sending identical events from your Pixel and through the Conversions API, you need to set up deduplication for your events sent via both channels. First, read \ndeveloper documentation to understand the deduplication logic\n.\n\nEvent-based deduplication\n\nIf we find the same server key combination (\nevent_id\n, \nevent_name\n) and browser key combination (\neventID\n, \nevent\n) sent to the same Pixel ID within 48 hours, we discard the later sent duplicate events.\n\nTo help ensure your events are deduplicated:\n\nFor the corresponding events, make sure the following parameters are set to the same value:\n\nevent_id\n from your server event and \neventID\n from your browser event\n\nevent_name\n from your server and browser events\n\nAfter you send duplicate events, check Events Manager to see if the correct events are being dropped.\n\nEnsure that each unique event sent via both Pixel and Conversions API has its own \nevent_id\n. This ID should not be shared with other events.\n\nAlternative to event-based deduplication\n\nWhile Event ID will always be the best way to deduplicate events, it&#039;s a fairly complex implementation. You can leverage alternative solutions by using external_id or fbp parameters. If you have configured the external_id or fbp parameters to be passed via both browser and server, we will deduplicate events automatically if we see the same event with same external_id or fbp parameters within 48 hours.\n\nOptional Step 4: Explore \nBusiness SDK Features\n\nThe Meta Business SDK has advanced features designed especially for Conversions API users:\n\nAsynchronous Requests\n — Use this feature if you do not want to block your program’s execution to wait for a request to be completed. With this approach, you make your request and get a signal back from the server once it has been completed. While you wait for the response, the program can keep executing.\n\nConcurrent Batching\n — Leverage asynchronous requests to increase throughput by utilizing resources more efficiently. Create batched requests to support use cases like event request workers, cron jobs, and more. \n\nHTTP Service Interface\n — Override the Business SDK’s default HTTP service and implement your own custom service with your preferred method or library.\n\nIntegration as a Platform\n\nThe following instructions are for partners offering conversions API as a service to advertisers.\n\nStep 1: Set Up Requirements\n\nYour app should get the following features and permissions:\n\nAccess Level: \nAdvanced Access\n\nFeature: \nAds Management Standard Access\n\nPermissions: \n\nads_management\n\n or \n\nbusiness_management\n\n and \n\npages_read_engagement\n\n and \n\nads_read\n\n. \n\nStep 2: Send Events on Behalf of Clients\n\n1. Facebook Login for Business (Recommended for partners)\n\nFacebook Login for Business\n is the preferred authentication and authorization solution for Tech Providers and business app developers who need access to their business clients&#039; assets. It allows you to specify the access token type, types of assets, and permissions your app needs, and save it as a set (configuration). You can then present the set to your business clients who can complete the flow and grant your app access to their business assets.\n\n2. Meta Business Extension\n\nMeta Business Extension\n returns all the necessary information needed to send events on behalf of the client via the following process. Meta Business Extension provides an endpoint to retrieve system user access tokens created in the client’s Business Manager. This process includes permissions to send server events and is done automatically and in a secured way.\n\nThe endpoint requires the user access token as input parameter. For new Meta Business Extension users, call this endpoint the endpoint to fetch the system user access token after you finish setting up Meta Business Extension. Existing users need to ask for re-authentication before calling the new API endpoint.\n\nFacebook Business Extension is currently only available to approved partners. If you are interested in becoming a partner, contact your Meta representative for access.\n\n3. Business On behalf Of: Client shares dataset to the partner’s Business Manager\n\nThe client shares their dataset to the partner via Business Manager settings, see ‘Client system user’s access token’ section  or via \nAPI through the On Behalf Of onboarding method\n. You can assign the partner system user to the client pixel and generate an access token to send server events by manually creating a System User Access Token. This can be done via the Conversions API inside the pixel settings above. On the API side, you need to request access to the \nclient’s ad account\n managing the dataset and \nproceed sharing pixels via API\n.\n\n4. Client system user’s access token\n\nThis is the similar onboarding flow for direct integration. You will have your client \nmanually create a System User Access Token\n via the Conversions API inside the dataset settings. Then, you can send events to the advertiser’s dataset with that token. A system user or an admin system user must install the app that will be used to generate the access token. With this setup, your app is allowed to call APIs on behalf of this system user or admin system user.\n\nNote\n: If the partner system leverages this method, their token will be limited to sending data only to Meta. The token can’t be used to run API GET data requests.\n\nStep 3: Attribute Events to Your Platform\n\nTo attribute conversions API events to your platform, use the \npartner_agent\n field. This allows you to set your own platform identifier when sending events on behalf of a client. If you are a managed partner, work with your Meta Representative to agree on an identifier for your platform. This value should be in a format that is less than 23 characters and includes at least two alphabetical characters. Then, send it with each server event.\n\nAlways provide an up-to-date setup guide for advertisers looking to activate the integration on your platform.\n\nSupport\n\nFor All Partners\n\nSee information about debugging and Business Help Center articles\n.\n\nFor Managed Partners\n\nProvide the following information to your Meta Representative, so they can help with testing integrations and troubleshooting: Business Manager ID, App ID, Pixel IDs.\n\nAPI Documentation\n\nGet started\n - Test the API from your own Business Manager\n\nUsing the API\n\nBest Practices - Conversions API\n\nSet Up Conversions API as a Platform\n\nStandard Meta Events\n\nCustom Meta Events\n\nParameters\n\nPayload Helper\n\nData Processing Options for Conversions API and Offline Conversions API\n\nIf you want to optimize for app events, use App Event API\n\n -->\n\n                                                                                                                                                                                                                                                                                                                                                                                                            \n\n                                                                                                                                                                                                                                                                                                                                                                                                   \n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\docs-marketing-api-conversions-api-using-the-api.md",
      "content": "# Using the API - Conversions API - Documentation - Meta for Developers\n\n> Source: https://developers.facebook.com/docs/marketing-api/conversions-api/using-the-api/\n\n---\n\nUsing the API - Conversions API - Documentation - Meta for Developers\n\nConversions API\n\nGet Started\n\nUsing the API\n\nVerifying Setup\n\nParameters\n\nParameter Builder Library\n\nConversions API for App Events\n\nConversions API for Offline Events\n\nConversions API for Business Messaging\n\nConversion Leads Integration\n\nDataset Quality API\n\nHandling Duplicate Events\n\nGuides\n\nPayload Helper\n\nBest Practices\n\nTroubleshooting\n\nUsing the API\n\nOnce you have completed the prerequisites on the \nGet Started\n page, use this page to learn how to send events and use the Test Events tool. Once you’ve sent an event, \nverify your setup\n.\n\nThe Conversions API is based on Facebook&#039;s \nMarketing API\n, which was built on top of our \nGraph API\n. Marketing and Graph APIs have different version deprecation schedules. Our release cycle is aligned with the \nGraph API\n, so every version is supported for at least two years. This exception is only valid for the Conversions API.\n\nConversions API: Overview\n\nParameters\n\nWeb, app, and physical store events shared using the Conversions API require specific parameters. By using the Conversions API, you agree that the \n\naction_source\n\n parameter is accurate to the best of your knowledge. The list of \nrequired parameters is available here\n.\n\nSend Requests\n\nTo send new events, make a \nPOST\n request to this API&#039;s \n/events\n edge from this path: \nhttps://graph.facebook.com/&#123;API_VERSION&#125;/&#123;PIXEL_ID&#125;/events?access_token=&#123;TOKEN&#125;\n. When you post to this edge, Facebook creates new server events.\n\ncurl -X POST \\\n  -F &#039;data=[\n       &#123;\n         &quot;event_name&quot;: &quot;Purchase&quot;,\n         &quot;event_time&quot;: 1762902353,\n         &quot;user_data&quot;: &#123;\n           &quot;em&quot;: [\n             &quot;309a0a5c3e211326ae75ca18196d301a9bdbd1a882a4d2569511033da23f0abd&quot;\n           ],\n           &quot;ph&quot;: [\n             &quot;254aa248acb47dd654ca3ea53f48c2c26d641d23d7e2e93a1ec56258df7674c4&quot;,\n             &quot;6f4fcb9deaeadc8f9746ae76d97ce1239e98b404efe5da3ee0b7149740f89ad6&quot;\n           ],\n           &quot;client_ip_address&quot;: &quot;123.123.123.123&quot;,\n           &quot;client_user_agent&quot;: &quot;$CLIENT_USER_AGENT&quot;,\n           &quot;fbc&quot;: &quot;fb.1.1554763741205.AbCdEfGhIjKlMnOpQrStUvWxYz1234567890&quot;,\n           &quot;fbp&quot;: &quot;fb.1.1558571054389.1098115397&quot;\n         &#125;,\n         &quot;custom_data&quot;: &#123;\n           &quot;currency&quot;: &quot;usd&quot;,\n           &quot;value&quot;: 123.45,\n           &quot;contents&quot;: [\n             &#123;\n               &quot;id&quot;: &quot;product123&quot;,\n               &quot;quantity&quot;: 1,\n               &quot;delivery_category&quot;: &quot;home_delivery&quot;\n             &#125;\n           ]\n         &#125;,\n         &quot;event_source_url&quot;: &quot;http://jaspers-market.com/product/123&quot;,\n         &quot;action_source&quot;: &quot;website&quot;\n       &#125;\n     ]&#039; \\\n  -F &#039;access_token=&lt;ACCESS_TOKEN&gt;&#039; \\\nhttps://graph.facebook.com/\nv24.0\n/&lt;PIXEL_ID&gt;/events\n\nAttach your generated secure access token using the \naccess_token\n query parameter to the request. You can also use \nGraph API Explorer\n to \nPOST\n to the \n/&lt;pixel_id&gt;/events\n endpoint.\n\nAn example request body looks like this:\n\n&#123;\n   &quot;data&quot;: [\n      &#123;\n         &quot;event_name&quot;: &quot;Purchase&quot;,\n         &quot;event_time&quot;: 1633552688,\n         &quot;event_id&quot;: &quot;event.id.123&quot;,\n         &quot;event_source_url&quot;: &quot;http:\\/\\/jaspers-market.com\\/product\\/123&quot;,         \n         &quot;action_source&quot;: &quot;website&quot;,\n         &quot;user_data&quot;: &#123;\n            &quot;client_ip_address&quot;: &quot;192.19.9.9&quot;,\n            &quot;client_user_agent&quot;: &quot;test ua&quot;,\n            &quot;em&quot;: [\n               &quot;309a0a5c3e211326ae75ca18196d301a9bdbd1a882a4d2569511033da23f0abd&quot;\n            ],\n            &quot;ph&quot;: [\n               &quot;254aa248acb47dd654ca3ea53f48c2c26d641d23d7e2e93a1ec56258df7674c4&quot;,\n               &quot;6f4fcb9deaeadc8f9746ae76d97ce1239e98b404efe5da3ee0b7149740f89ad6&quot;\n            ],\n            &quot;fbc&quot;: &quot;fb.1.1554763741205.AbCdEfGhIjKlMnOpQrStUvWxYz1234567890&quot;,\n            &quot;fbp&quot;: &quot;fb.1.1558571054389.1098115397&quot;\n         &#125;,\n         &quot;custom_data&quot;: &#123;\n            &quot;value&quot;: 100.2,\n            &quot;currency&quot;: &quot;USD&quot;,\n            &quot;content_ids&quot;: [\n               &quot;product.id.123&quot;\n            ],\n            &quot;content_type&quot;: &quot;product&quot;\n         &#125;,\n         &quot;opt_out&quot;: false\n      &#125;,\n      &#123;\n         &quot;event_name&quot;: &quot;Purchase&quot;,\n         &quot;event_time&quot;: 1633552688,\n         &quot;user_data&quot;: &#123;\n            &quot;client_ip_address&quot;: &quot;192.88.9.9&quot;,\n            &quot;client_user_agent&quot;: &quot;test ua2&quot;\n         &#125;,\n         &quot;custom_data&quot;: &#123;\n            &quot;value&quot;: 50.5,\n            &quot;currency&quot;: &quot;USD&quot;\n         &#125;,\n         &quot;opt_out&quot;: false\n      &#125;\n   ]\n&#125;\n\nUpload Time versus Event Transaction Time\n\nevent_time\n\n is the event transaction time. It should be sent as a Unix timestamp in seconds indicating when the actual event occurred. The specified time \nmay be earlier than the time you send the event to Facebook\n. This is to enable batch processing and server performance optimization.\n\nThe \n\nevent_time\n\n can be up to 7 days before you send an event to Meta. If any \nevent_time\n in \ndata\n is greater than 7 days in the past, we return an error for the entire request and process no events. For offline and physical store events with \nphysical_store\n as \naction_source\n, you should upload transactions within 62 days of the conversion.\n\nBy using the Conversions API, you agree that the \n\naction_source\n\n parameter is accurate to the best of your knowledge.\n\nBatch Requests\n\nYou can send up to 1,000 events in \ndata\n. However, for optimal performance, we recommend you send events as soon as they occur and ideally within an hour of the event occurring. \nIf any event you send in a batch is invalid, we reject the entire batch.\n\nHashing\n\nPlease check our \ncustomer information parameters\n page to see which parameters should be hashed before they are sent to Facebook. If you are using one of our \nBusiness SDKs\n, the hashing is done for you by the SDK.\n\nBusiness SDK Features for Conversions API\n\nLearn more about three specific Business SDK features designed especially for Conversions API users: \nAsynchronous Requests\n, \nConcurrent Batching\n, and \nHTTP Service Interface\n. Minimum language version required to use these features:\n\nPHP &gt;= 7.2\n\nNode.js &gt;= 7.6.0\n\nJava &gt;= 8\n\nPython &gt;= 2.7\n\nRuby &gt;= 2\n\nBusiness SDK support for PHP 5 has been deprecated since January 2019. Please upgrade to PHP 7 to use the Business SDK.\n\nConversions API Parameters\n\nVerify Events\n\nAfter you send your events, confirm that we have received them in \nEvents Manager\n:\n\nOn the \nData Sources\n page, click on the Pixel corresponding to the \nPIXEL_ID\n in your \nPOST\n request. For more information see \nBusiness Help Center: Navigate Events Manager\n.\n\nThen, click \nOverview\n. You see the number of raw, matched and attributed events we received. Under \nConnection Method\n, you see the channel in which that event was sent.\n\nYou can click on each event to get more specific information.\n\nAfter you start sending events, you should be able to verify them within 20 minutes. Now you can start sending events from your server.\n\nTest Events Tool\n\nYou can verify that your server events are received correctly by Facebook by using the Test Events feature in Events Manager. To find the tool, go to \nEvents Manager &gt; Data Sources &gt; Your Pixel &gt; Test Events\n.\n\nThe Test Events tool generates a test ID. Send the test ID as a \ntest_event_code\n parameter to start seeing event activity appear in the Test Events window.\n\nNote\n: The \ntest_event_code\n field should be used only for testing. You need to remove it when sending your production payload.\n\nEvents sent with \ntest_event_code\n are not dropped. They flow into Events Manager and are used for targeting and ads measurement purposes.\n\nHere&#039;s an example of how the request should be structured:\n\n&#123;\n   &quot;data&quot;: [\n      &#123;\n         &quot;event_name&quot;: &quot;ViewContent&quot;,\n         &quot;event_time&quot;: 1764975551,\n         &quot;event_id&quot;: &quot;event.id.123&quot;,\n         &quot;event_source_url&quot;: &quot;http:\\/\\/jaspers-market.com&quot;,\n         &quot;user_data&quot;: &#123;\n            &quot;client_ip_address&quot;: &quot;1.2.3.4&quot;,\n            &quot;client_user_agent&quot;: &quot;test user agent&quot;\n         &#125;\n      &#125;\n   ],\n   &quot;test_event_code&quot;: &quot;TEST123&quot;\n&#125;\n\nHere&#039;s an example of how the request appears in Graph API Explorer:\n\nYou can generate this test payload using the \n\nPayload Helper tool\n\n. Please note that the test event code is only for testing payload.\n\nYour server events appear in the Test Events window once the request is sent.\n\nData Processing Options\n for US Users\n\nFor these two APIs, implement data processing options by adding \ndata_processing_options\n, \ndata_processing_options_country\n, and \ndata_processing_options_state\n inside each event within the \ndata parameter\n of your events.\n\nNote:\n The App Events and Offline Conversions APIs are no longer recommended for new integrations. Instead, it is recommended that you use the Conversions API as it now supports web, app, and offline events. See \nConversions API for App Events\n and \nConversions API for Offline Events\n for more information.\n\nTo explicitly not enable Limited Data Use (LDU), specify an empty array for each event or simply remove the field in the payload:\n\n&#123;\n    &quot;data&quot;: [\n        &#123;\n            &quot;event_name&quot;: &quot;Purchase&quot;,\n            &quot;event_time&quot;: &lt;EVENT_TIME&gt;,\n            &quot;user_data&quot;: &#123;\n                &quot;em&quot;: &quot;&lt;EMAIL&gt;&quot;\n            &#125;,\n            &quot;custom_data&quot;: &#123;\n                &quot;currency&quot;: &quot;&lt;CURRENCY&gt;&quot;,\n                &quot;value&quot;: &quot;&lt;VALUE&gt;&quot;\n            &#125;,\n            &quot;data_processing_options&quot;: []\n        &#125;\n    ]\n&#125;\n\nTo enable LDU and have Meta perform geolocation:\n\n&#123;\n    &quot;data&quot;: [\n        &#123;\n            &quot;event_name&quot;: &quot;Purchase&quot;,\n            &quot;event_time&quot;: &lt;EVENT_TIME&gt;,\n            &quot;user_data&quot;: &#123;\n                &quot;em&quot;: &quot;&lt;EMAIL&gt;&quot;,\n                &quot;client_ip_address&quot;: &quot;256.256.256.256&quot;\n            &#125;,\n            &quot;custom_data&quot;: &#123;\n                &quot;currency&quot;: &quot;&lt;CURRENCY&gt;&quot;,\n                &quot;value&quot;: &quot;&lt;VALUE&gt;&quot;\n            &#125;,\n            &quot;data_processing_options&quot;: [&quot;LDU&quot;],\n            &quot;data_processing_options_country&quot;: 0,\n            &quot;data_processing_options_state&quot;: 0\n        &#125;\n    ]\n&#125;\n\nTo enable LDU and manually specify the location, e.g., for California:\n\n&#123;\n    &quot;data&quot;: [\n        &#123;\n            &quot;event_name&quot;: &quot;Purchase&quot;,\n            &quot;event_time&quot;: &lt;EVENT_TIME&gt;,\n            &quot;user_data&quot;: &#123;\n                &quot;em&quot;: &quot;&lt;EMAIL&gt;&quot;\n            &#125;,\n            &quot;custom_data&quot;: &#123;\n                &quot;currency&quot;: &quot;&lt;CURRENCY&gt;&quot;,\n                &quot;value&quot;: &quot;&lt;VALUE&gt;&quot;\n            &#125;,\n            &quot;data_processing_options&quot;: [&quot;LDU&quot;],\n            &quot;data_processing_options_country&quot;: 1,\n            &quot;data_processing_options_state&quot;: 1000\n        &#125;\n    ]\n&#125;\n\nManual Upload UI\n\nThe Offline Conversions API offers the option to manually upload your events from a \n.csv\n file. In this case, add Data Processing Options, Data Processing Country, and Data Processing State as columns inside your file. More information about this can be found in the upload user interface.\n\nLearn more about \nData Processing Options\n.\n\nAPI Limits\n\nThe Marketing API has its own rate-limiting logic and is excluded from all the \nGraph API rate limitations\n. So if you make a Marketing API call, it won&#039;t be calculated into the Graph API throttling.\n\nThere is no specific rate limit for the Conversions API. Conversions API calls are counted as Marketing API calls. The only limitation is that you can send us up to 1,000 events at a time. See \nSend Requests\n for more information.\n\nMarketing API Rate Limiting\n\nBusiness SDK API Usage in the Conversions API Gateway\n\nThis guide helps you navigate Meta Business SDK advanced features designed especially for Conversions API Gateway users. For basic Conversions API Gateway usage, refer to the \nConversions API Gateway documentation\n.\n\nSend Events to Your Conversions API Gateway Instance\n\nRequirements\n\nBefore using any of the features listed below, you need to have the Meta Business SDK installed. See \nGet Started with the Meta Business SDK\n or follow the README instructions listed here:\n\nPHP: \nfacebook-php-business-sdk\n\nNode.js: \nfacebook-nodejs-business-sdk\n\nJava: \nfacebook-java-business-sdk\n\nPython: \nfacebook-python-business-sdk\n\nRuby: \nfacebook-ruby-business-sdk\n\nCurrently, these features are only available on the PHP and Java business SDK. The other languages will be implemented by the end of 2023.\n\nThe minimum language version required to use these features are:\n\nPHP &gt;= 7.2\n\nJava &gt;= 8\n\nNote\n: To dedupe events to the Conversions API endpoint, please pass the \neventId\n in your request. This will help prevent duplicate events from showing up if Conversions API publishing is enabled.\n\nFormatting the \nCAPIGatewayIngressRequest\n Parameters\n\nParameter\n\nDescription\n\nendpointUrl\n\nstring\n\nThe Conversions API Gateway endpoint that events get sent to. No prevalidation will be done on the parameter other than checking if it is a valid url.\n\nExample: https://test.example.com\n\naccessKey\n\nstring\n\nConversions API Gateway access key that is needed to send events to the Conversions API Gateway events endpoint. These are \nthe instructions\n for generating it.\n\nThe \nCAPIGatewayIngressRequest\n Setters\n\nParameter\n\nDescription\n\nsetSendToDestinationOnly\n\nBoolean\n\nBoolean flag on whether the events get sent to the selected endpoint only.\n\nDefault: \nFalse\n\nsetFilter\n\nCustomEndpointRequest.Filter() function\n\nFilter function that processes each event. If the filtering logic returns true, the event gets passed through. Otherwise, the event gets dropped. You have to implement the shouldSendEvent function in the interface that has the parameter Event.\n\nDefault: \nNull\n\nMigration Example: PHP\n\nFor systems that already use the Business SDK, you just need to reference the new CAPIGatewayIngressRequest and attach it to the eventRequest’s customEndpoint object.\n\n// this is the standard event request that we attach events to\n$event_request = new EventRequest($this-&gt;pixel_id);\n$capiIngressRequest = new CAPIGatewayIngressRequest($this-&gt;cb_url, $this-&gt;access_key);\n$event_request-&gt;setCustomEndpoint($capiIngressRequest);\n// pass the events to this event Request object\n$event_request-&gt;setEvents($events);\n$event_request-&gt;execute()\n\nMigration Example: Java\n\nFor systems that already use the Business SDK, you just need to reference the new CAPIGatewayIngressRequest and attach it to the eventRequest’s customEndpoint object.\n\n// this is the standard event request that we attach events to\n\nEventRequest eventRequest = new EventRequest(PIXEL_ID, context);\n\nCAPIGatewayIngressRequest capiSyncRequest = new CAPIGatewayIngressRequest(CB_URL, CAPIG_ACCESS_KEY);\neventRequest.setCustomEndpoint(capiSyncRequest);\neventRequest.addDataItem(testEvent);\neventRequest.execute();\n\nSynchronous option\n\nPHP Code Example\n\n$api = Api::init(null, null, $this-&gt;access_token);\n$api-&gt;setLogger(new CurlLogger());\n$event_request = new EventRequest($this-&gt;pixel_id);\n$capiIngressRequest = new CAPIGatewayIngressRequest($this-&gt;cb_url, $this-&gt;access_key);\n$event_request-&gt;setCustomEndpoint($capiIngressRequest);\n$user_data = (new UserData())\n   -&gt;setEmails(array(&#039;joe&#064;eg.com&#039;))\n   -&gt;setPhones(array(&#039;12345678901&#039;, &#039;14251234567&#039;))\n   -&gt;setFbc(&#039;fb.1.1554763741205.AbCdEfGhIjKlMnOpQrStUvWxYz1234567890&#039;)\n   -&gt;setFbp(&#039;fb.1.1558571054389.1098115397&#039;);\n$event1 = (new Event())\n   -&gt;setEventName(&#039;Purchase&#039;)\n   -&gt;setEventId(&#039;125&#039;)\n   -&gt;setEventTime(time())\n   -&gt;setEventSourceUrl(&#039;http://jaspers-market.com/product/123&#039;)\n   -&gt;setUserData($user_data);\n$events = array($event1, $event2);\n$event_request-&gt;setEvents($events);\n$response = $event_request-&gt;execute();\nprint($response-&gt;__toString());\n\nJava Code Example\n\nEventRequest eventRequest = new EventRequest(PIXEL_ID, context);\nUserData userData = new UserData()\n       .email(&quot;abc&#064;eg.com&quot;);\nCAPIGatewayIngressRequest capiSyncRequest = new CAPIGatewayIngressRequest(CB_URL, CAPIG_ACCESS_KEY);\neventRequest.setCustomEndpoint(capiSyncRequest);\nEvent testEvent = new Event();\ntestEvent.eventId(&quot;125&quot;).eventName(&quot;Purchase&quot;)\n       .eventTime(System.currentTimeMillis() / 1000L)\n       .userData(userData)\n       .dataProcessingOptions(new String[]&#123;&#125;).setEventId(&quot;134423232&quot;);\neventRequest.namespaceId(&quot;11&quot;)\n       .uploadId(&quot;22222&quot;)\n       .uploadTag(&quot;upload-tag-4&quot;)\n       .uploadSource(&quot;upload-source-4&quot;)\n       .testEventCode(&quot;test-event-code-5&quot;)\n       .partnerAgent(&quot;partner-agent-6&quot;);\neventRequest.addDataItem(testEvent);\neventRequest.execute();\n\nAsynchronous option\n\nPHP Code Example\n\n$api = Api::init(null, null, $this-&gt;access_token);\n$api-&gt;setLogger(new CurlLogger());\n$event_request = new EventRequestAsync($this-&gt;pixel_id);\n$capiIngressRequest = new CAPIGatewayIngressRequest($this-&gt;cb_url, $this-&gt;access_key);\n$capiIngressRequest-&gt;setSendToDestinationOnly(true);\n$event_request-&gt;setCustomEndpoint($capiIngressRequest);\n$event1 = (new Event())\n   -&gt;setEventName(&#039;test Async Event&#039;)\n   -&gt;setEventId(&#039;134423232&#039;)\n   -&gt;setEventTime(time())\n   -&gt;setEventSourceUrl(&#039;http://jaspers-market.com/product/123&#039;);\n$events = array($event1, $event2);\n$event_request-&gt;setEvents($events);\n$response = $event_request-&gt;execute()-&gt;wait();\n\nJava Code Example\n\nEventRequest eventRequest = new EventRequest(PIXEL_ID, context);\nUserData userData = new UserData()\n       .email(&quot;abc&#064;eg.com&quot;);\nCAPIGatewayIngressRequest capiSyncRequest = new CAPIGatewayIngressRequest(CB_URL, CAPIG_ACCESS_KEY);\ncapiSyncRequest.setSendToDestinationOnly(true);\neventRequest.setCustomEndpoint(capiSyncRequest);\nEvent testEvent = new Event();\ntestEvent.eventName(&quot;test Async Event&quot;)\n       .eventTime(System.currentTimeMillis() / 1000L)\n       .userData(userData)\n       .dataProcessingOptions(new String[]&#123;&#125;).setEventId(&quot;134423232&quot;);\neventRequest.namespaceId(&quot;11222&quot;)\n       .uploadId(&quot;22222&quot;)\n       .uploadTag(&quot;upload-tag-4&quot;)\n       .uploadSource(&quot;upload-source-4&quot;)\n       .testEventCode(&quot;test-event-code-5&quot;)\n       .partnerAgent(&quot;partner-agent-6&quot;);\neventRequest.addDataItem(testEvent);\neventRequest.executeAsync();\n\nFilter Functionality\n\nPHP Code Example\n\nlass APIFilter implements Filter &#123;\n   public function shouldSendEvent(Event $event): bool\n   &#123;\n       if ($event-&gt;getEventId() === &#039;125&#039;) &#123;\n           return false;\n       &#125;\n       return true;\n   &#125;\n&#125;\n$capiIngressRequest = new CAPIGatewayIngressRequest($this-&gt;cb_url, $this-&gt;access_key);\n$event_request-&gt;setCustomEndpoint($capiIngressRequest);\n$capiIngressRequest-&gt;setFilter(new APIFilter());\n\nJava Code Example\n\nCAPIGatewayIngressRequest capiSyncRequest = new CAPIGatewayIngressRequest(CB_URL, CAPIG_ACCESS_KEY);\neventRequest.setCustomEndpoint(capiSyncRequest);\n\ncapiSyncRequest.setFilter(new CustomEndpointRequest.Filter() &#123;\n   &#064;Override\n   public boolean shouldSendEvent(Event event) &#123;\n   if (event.getEventId().equals(&quot;125&quot;)) &#123;\n       return true;\n   &#125;\n   return false;\n&#125;\n&#125;);\n\nLearn More\n\nConversions API Gateway\n\nConversions API Gateway for Multiple Accounts\n\nConversions API Parameters\n\nBest Practices\n \n\n -->\n\n                                                                                                                                                                                                                                                                                                                                                                                                            \n\n                                                                                                                                                                                                                                                                                                                                                                                                   \n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\docs-marketing-api-conversions-api-guides.md",
      "content": "# Guides - Conversions API - Documentation - Meta for Developers\n\n> Source: https://developers.facebook.com/docs/marketing-api/conversions-api/guides/\n\n---\n\nGuides - Conversions API - Documentation - Meta for Developers\n\nConversions API\n\nGet Started\n\nUsing the API\n\nVerifying Setup\n\nParameters\n\nParameter Builder Library\n\nConversions API for App Events\n\nConversions API for Offline Events\n\nConversions API for Business Messaging\n\nConversion Leads Integration\n\nDataset Quality API\n\nHandling Duplicate Events\n\nGuides\n\nPayload Helper\n\nBest Practices\n\nTroubleshooting\n\nGuides\n\nUse these guides to help you perform common actions with the Conversions API.\n\nSend Requests and Verify Events\n\nLearn how to send events to the Conversions API, handle dropped events and batch requests, and confirm that your events have arrived.\n\nSet Up Conversions API as a Platform\n\nIf you offer the Meta Pixel to your clients, you may want to consider adding Conversions API functionalities. Learn how to set up our server events as part of your platform.\n\nZapier Integration\n\nLeverage automation platform Zapier to send events to our Conversions API. Use Facebook&#039;s Zapier app to automatically send events every time something changes in your data source.\n\nConversions API for Google Tag Manager\n\nThe Conversions API can be used to collect key web and offline event data shared from a server that you set up on the Google Cloud Platform. Learn how to implement it.\n\nMeta Business SDK Features for the Conversions API\n\nLearn about Meta Business SDK advanced features designed especially for Conversions API users: Asynchronous Requests, Concurrent Batching, and HTTP Service Interface.\n\nEnd-to-End Implementation\n\nStep-by-step guide to implement the Conversions API. Instructions for Direct Integration and Integration as a Platform.\n\nConversions API Gateway\n\nAn overview and step-by-step guide for configuring and implementing the Conversions API Gateway. Also includes instructions for troubleshooting and monitoring.\n\nConversions API Gateway: AWS App Runner\n\nA step-by-step guide for implementing a Conversions API Gateway setup using AWS App Runner.\n\nConversions API Gateway for Multiple Accounts\n\nStep-by-step guide for connecting data sources managed by different Meta Business Accounts to the same Conversions API Gateway instance.\n\nConversions API Gateway for Multiple Accounts Control Plane API\n\nThis API allows developers to programmatically manage accounts, data sources and other configurations of a Gateway instance.\n\n -->\n\n                                                                                                                                                                                                                                                                                                                                                                                                            \n\n                                                                                                                                                                                                                                                                                                                                                                                                   \n\n -->"
    },
    {
      "path": "./test-e2e/baseline\\references\\business-ads-ad-creative.md",
      "content": "# Expand Your Ad Creative Strategy &amp; Enhance Ad Performance | Meta for Business\n\n> Source: https://www.facebook.com/business/ads/ad-creative\n\n---\n\nExpand Your Ad Creative Strategy &amp; Enhance Ad Performance | Meta for Business\n\n Back to: Advertising Home \n\n Next Topic: Automation Tools \n\nMeta Ads\n\n Expand your ad creative strategy \n\n Enhance ad performance through adoption of new formats, placements and mediums. \n\nWhat you&#039;ll learn:\n\n Ad Placements \n\n Choose where people will see your ad. \n\n Ad Formats \n\n Stay competitive with new formats and a mixed format creative strategy. \n\n Visual design \n\n Share what makes your brand unique with high quality creative concepts. \n\n Placements \n\n The places where you can run your ads are called Placements. You choose where your ads appear - on Facebook, Messenger, WhatsApp or Instagram. This depends on the objective you choose when you create your campaign, as well as your ad type and settings. We recommend selecting 6 or more placements. Keep in mind that not all placements are available for every ad objective. \n\nLearn more\n\nLearn more\n\nមានអ្វីម្យ៉ាងដំណើរការខុសប្រក្រតី\n\nយើង​កំពុងមានបញ្ហាក្នុងការចាក់វីដេអូនេះ។\n\nស្វែងយល់បន្ថែម\n\n Visuals and messaging \n\n Share what makes your brand unique. \n\n High-quality visuals and compelling messages can grab people’s attention and help make your ad more relevant so it can perform better in the ad auction. \n\nLearn more\n\nReady to get started?\n\nCreate ad\n\n Next Topic: Automation Tools \n\n Available on desktop and the Ads Manager app. \n\nGet the latest updates from Meta for Business.\n\nProvide your email address to receive the latest updates from Meta for Business, including news, events and product updates. \n\nBy submitting this form, you agree to receive marketing related electronic communications from Meta, including news, events, updates and promotional emails. You may withdraw your consent and unsubscribe from these at any time, for example, by clicking the unsubscribe link included on our emails. For more information about how Meta handles your data please read our \nData Policy\n.\n\nform origin\n\nlead_source\n\noptin__c\n\nCampaign_ID\n\nSubscribe\n\n © 2026 Meta \n\nAbout\n\nDevelopers\n\nCareers\n\nPrivacy\n\nCookies\n\nTerms\n\nHelp Center\n\nEnglish (US)\n\nEnglish (UK)\n\nEspañol\n\nPortuguês (Brasil)\n\nFrançais (France)\n\nEspañol (España)\n\nភាសាច្រើនទៀត\n\nالعربية\n\nTiếng Việt\n\nItaliano\n\nDeutsch\n\nภาษาไทย\n\n中文(台灣)\n\nČeština\n\nDansk\n\nΕλληνικά\n\nSuomi\n\nFrançais (Canada)\n\nעברית\n\nहिन्दी\n\nMagyar\n\nBahasa Indonesia\n\n日本語\n\n한국어\n\nBahasa Melayu\n\nNorsk (bokmål)\n\nNederlands\n\nPolski\n\nPortuguês (Portugal)\n\nRomână\n\nРусский\n\nSvenska\n\nTürkçe\n\n中文(简体)\n\n中文(香港)\n\nLog in to Meta for Business\n\nManage your ad accounts and get personalized support.\n\nLog in with Facebook"
    },
    {
      "path": "./test-e2e/baseline\\references\\business-ads-ad-targeting.md",
      "content": "# Ad Targeting: Options to Reach Your Audience Online | Meta for Business\n\n> Source: https://www.facebook.com/business/ads/ad-targeting\n\n---\n\nAd Targeting: Options to Reach Your Audience Online | Meta for Business\n\n Back to: Advertising Home \n\n Next Topic: Ad creative \n\nMeta Ads\n\n Audience ad targeting \n\n How to find people most likely to respond to your ad. \n\nWhat you&#039;ll learn:\n\n How to create an audience \n\n Learn how Meta shows your ad to the right people online. Decide who sees your ad and where they see it. \n\n How to define your audience \n\n Learn about broad vs. detailed targeting options to ensure your ad reaches the ideal amount of people. \n\n Determine which audience type is best for your campaign \n\n Find who you want to connect with during your campaign. \n\n Audience \n\n Reach the people who want to hear from you. \n\n You decide who sees your ad and where. Create the online audience based on the traits of who you want to see your ad, and narrow down your ad’s audience by interests, gender or location and use ad targeting to find the people most likely to take action. Once your ad starts running, our system will learn who is engaging with it and, over time, narrow your audience so you reach more of the right people. \n\n Define your target audience \n\n Think about characteristics that your current customers have in common, such as demographics, location and interests. Then, broaden or narrow that audience based on your population size. \n\nBuild and refine your audience.\n\n 1. Create an audience \n\n As you create your target online audience, keep an eye on the audience meter, which will let you know whether your audience is too specific, too broad or just right. \n\n 2. Start Broad \n\n Our ad delivery system works best when your audience size is between 2 to 10 million people. With a bigger audience, the auction will have greater opportunities to deliver ads, observe outcomes and optimize. Consider location, age and gender of the customers you want to see your ads. \n\n 3. Add more details \n\n Using detailed targeting like adding ‘interest’ targeting may lead to smaller audiences, but it may also help better target your ads to an audience more likely to respond to your ads. We recommend using interest targeting only if your audience is at least 2 million people. \n\n Who do you want to connect with during your next campaign? \n\nReady to get started?\n\nCreate ad\n\n Next Topic: Ad Creative \n\n Available on desktop and the Ads Manager app. \n\nGet the latest updates from Meta for Business.\n\nProvide your email address to receive the latest updates from Meta for Business, including news, events and product updates. \n\nBy submitting this form, you agree to receive marketing related electronic communications from Meta, including news, events, updates and promotional emails. You may withdraw your consent and unsubscribe from these at any time, for example, by clicking the unsubscribe link included on our emails. For more information about how Meta handles your data please read our \nData Policy\n.\n\nform origin\n\nlead_source\n\noptin__c\n\nCampaign_ID\n\nSubscribe\n\n © 2026 Meta \n\nAbout\n\nDevelopers\n\nCareers\n\nPrivacy\n\nCookies\n\nTerms\n\nHelp Center\n\nEnglish (US)\n\nEnglish (UK)\n\nEspañol\n\nPortuguês (Brasil)\n\nFrançais (France)\n\nEspañol (España)\n\nភាសាច្រើនទៀត\n\nالعربية\n\nTiếng Việt\n\nItaliano\n\nDeutsch\n\nภาษาไทย\n\n中文(台灣)\n\nČeština\n\nDansk\n\nΕλληνικά\n\nSuomi\n\nFrançais (Canada)\n\nעברית\n\nहिन्दी\n\nMagyar\n\nBahasa Indonesia\n\n日本語\n\n한국어\n\nBahasa Melayu\n\nNorsk (bokmål)\n\nNederlands\n\nPolski\n\nPortuguês (Portugal)\n\nRomână\n\nРусский\n\nSvenska\n\nTürkçe\n\n中文(简体)\n\n中文(香港)\n\nLog in to Meta for Business\n\nManage your ad accounts and get personalized support.\n\nLog in with Facebook"
    }
  ],
  "topics": [
    "Facebook Ads Account Setup",
    "Campaign Creation and Management",
    "Ad Sets and Ad Creative",
    "Audience Targeting and Segmentation",
    "Budget and Bidding Strategies",
    "Conversion Tracking and Pixel Implementation",
    "Facebook Conversion API",
    "Marketing API Overview",
    "Ads Insights and Analytics",
    "A/B Testing",
    "Ad Quality and Policies",
    "Business Manager Setup",
    "Payment Methods and Billing",
    "Ad Formats and Placements",
    "Retargeting and Lookalike Audiences",
    "Lead Generation Forms",
    "Dynamic Ads and Product Catalog",
    "Video Ads Best Practices",
    "Mobile Advertising",
    "Instagram Ads Integration",
    "Messenger Ads",
    "Audience Network",
    "Custom Audiences",
    "Event Tracking",
    "Authentication and Permissions"
  ],
  "total_tokens": 11382,
  "score": 85.0,
  "discovery_metadata": {
    "method": "auto-discovery",
    "candidates_found": 100,
    "evaluated": 10,
    "crawled_ok": 10,
    "crawled_fail": 0,
    "official_sites": [
      "https://developers.facebook.com",
      "https://business.facebook.com",
      "https://www.facebook.com/business",
      "https://ads.facebook.com",
      "https://www.meta.com/en/business"
    ],
    "search_queries": [
      "Facebook Ads API documentation vietnamese",
      "Hướng dẫn quảng cáo Facebook đầy đủ",
      "Meta Business Suite documentation tiếng việt",
      "Facebook Ads Manager setup guide vietnamese",
      "Facebook conversion API documentation vietnamese",
      "Tạo chiến dịch quảng cáo Facebook hướng dẫn",
      "Facebook Pixel implementation docs vietnamese",
      "Audience targeting Facebook Ads API documentation"
    ]
  }
}